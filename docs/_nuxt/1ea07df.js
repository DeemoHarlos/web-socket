(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{348:function(e,t,r){var content=r(350);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(121).default)("d85598ce",content,!0,{sourceMap:!1})},349:function(e,t,r){"use strict";r(348)},350:function(e,t,r){var n=r(120)(!1);n.push([e.i,".flex-column[data-v-fed910e8],.flex-row[data-v-fed910e8]{display:flex}.middle-center[data-v-fed910e8]{justify-content:center;align-items:center}.stretch-center[data-v-fed910e8]{justify-content:center;align-items:stretch}.fill-screen[data-v-fed910e8]{width:100%;height:100vh}#messages[data-v-fed910e8]{word-wrap:break-word;overflow-y:auto}#messages #messages-wrap[data-v-fed910e8]{min-height:100%;justify-content:flex-end}#username-prompt[data-v-fed910e8]{background:rgba(0,0,0,.56471)}#username-prompt>div[data-v-fed910e8]{width:480px}",""]),e.exports=n},354:function(e,t,r){"use strict";r.r(t);r(23),r(13),r(25);var n,o,l,c=r(140);!function(e){e.BroadcastMessage="message",e.ErrorMessage="error"}(n||(n={})),function(e){e.UsernameAlreadyUsed="UsernameAlreadyUsed"}(o||(o={})),function(e){e.SetUsername="username",e.SendMessage="message"}(l||(l={}));var d=Object(c.a)({name:"IndexPage",setup:function(){var e=Object(c.f)(),t=e.$io,r=e.$cookies,d=Object(c.d)(null),m=Object(c.d)([]),v=Object(c.d)(""),f=Object(c.d)(""),x=Object(c.d)(""),h=Object(c.d)(!1);return Object(c.c)((function(){t.on(n.BroadcastMessage,(function(data){var e;m.value.push(data),null===(e=d.value)||void 0===e||e.scrollTo(0,d.value.scrollHeight)})),t.on(n.ErrorMessage,(function(data){console.log(data.error),console.log(o.UsernameAlreadyUsed),data.error===o.UsernameAlreadyUsed&&(h.value=!0,x.value="Someone already used the name!")}));var e=r.get("username");e?t.emit(l.SetUsername,e):h.value=!0})),{messagesWrap:d,messages:m,username:v,msg:f,errorText:x,showUsernamePrompt:h,sendMessage:function(e){e.preventDefault(),t.emit(l.SendMessage,f.value),f.value=""},setUsername:function(e){e.preventDefault();var n=v.value.replace(/\W/g,"").slice(0,32);n?(t.emit(l.SetUsername,n),h.value=!1,x.value="",r.set("username",n,{path:"/",maxAge:604800})):x.value="Username can only contain alphabets, numbers and underscores."}}}}),m=(r(349),r(88)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex-column vh-100"},[r("div",{staticClass:"flex-fill p-3",attrs:{id:"messages"}},[r("div",{ref:"messagesWrap",staticClass:"flex-",attrs:{id:"messages-wrap"}},e._l(e.messages,(function(t){return r("div",{staticClass:"message text-break"},[r("span",{staticClass:"mr-3"},[r("b",[e._v(e._s(t.username))])]),r("span",[e._v(e._s(t.message))])])})),0)]),r("form",{staticClass:"flex-row p-3",on:{submit:e.sendMessage}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],staticClass:"flex-fill",attrs:{type:"text"},domProps:{value:e.msg},on:{input:function(t){t.target.composing||(e.msg=t.target.value)}}}),r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.sendMessage}},[e._v("SEND")])]),e.showUsernamePrompt?r("div",{staticClass:"position-fixed d-flex middle-center w-100 vh-100",attrs:{id:"username-prompt"}},[r("div",{staticClass:"bg-light p-4"},[r("div",[e._v("Please enter your username")]),r("form",{staticClass:"flex-row",on:{submit:e.setUsername}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"flex-fill",attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.setUsername}},[e._v("CONFIRM")])]),r("div",{staticClass:"text-danger"},[e._v(e._s(e.errorText))])])]):e._e()])}),[],!1,null,"fed910e8",null);t.default=component.exports}}]);